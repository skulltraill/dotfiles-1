"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4338],{51810:(e,s,a)=>{a.r(s),a.d(s,{default:()=>ta});var i=a(67294),t=a(94184),n=a.n(t),r=a(32667),l=a(47647),d=a(39714),c=a(74257),o=a(46802),u=a(96206),m=a(23701),f=a(37415),h=a(88330),g=a(13455),x=a(26492),b=a(51674),j=a(8716),p=a(32648),y=a(5229),N=a(15852),v=a(42441),C=a.n(v),k=a(88842),E=a(31638);const D="72px",I="230px",S="160px",w="270px",_="270px",F="384px";var L=a(85893);const T=parseInt(D,10),O=parseInt(w,10),B=parseInt(I,10),U=parseInt(F,10),A=parseInt(S,10),z=({size:e,setSize:s,elementRef:a,isBuddyFeedEmpty:t,showAddFriends:n})=>{(0,i.useEffect)((()=>(C().bind(k.lb.BUDDY_FEED_DECREASE_WIDTH,(()=>{e&&s(e-10)})),C().bind(k.lb.BUDDY_FEED_INCREASE_WIDTH,(()=>{e&&s(e+10)})),()=>{C().unbind(k.lb.BUDDY_FEED_DECREASE_WIDTH),C().unbind(k.lb.BUDDY_FEED_INCREASE_WIDTH)})),[s,e]);const r=!t&&!n,l=r?T:O;return(0,L.jsx)(E.A,{elementRef:a,placement:"inline-start",label:u.ag.get("resize.sidebar"),cssCustomProperty:"--buddy-feed-width",onCSSPropertyChange:e=>{s(e)},initialValue:e,min:l,minExpanded:r?B:l,max:U,thresholdCollapsed:A},l)};var P=a(98197),R=a(34011),M=a(35032),H=a(22595),Y=a(73753),Z=a(22867);let W;!function(e){e[e.LOADING=0]="LOADING",e[e.CONNECTED=1]="CONNECTED",e[e.DISCONNECTED=2]="DISCONNECTED"}(W||(W={}));var q=a(24697),J=a(44295),K=a(22247),Q=a(88767);var G=a(91552),V=a(22647),X=a(50266),$=a(1646);const ee="w5nHQ74JGTytKwWanjvB",se="u11kJflcqt7CSXo9qL_T",ae="MmENkh6tW0MyjTtTtPHZ",ie="Gl0dkNQbAyNjVZ1IpghI",te=({name:e,following:s,imageUrl:a,uri:t})=>{const c=(0,X.q)(),o=(0,x.o)(),m=i.createRef(),[f,h]=(0,i.useState)(s);(0,$.d)(V.rA.OPERATION_COMPLETE,(e=>{if(e.data.uris.includes(t))switch(e.data.operation){case V.BM.FOLLOW_USER:h(!0);break;case V.BM.UNFOLLOW_USER:h(!1)}}));const g=(0,i.useCallback)((()=>{f?c.unfollowUsers([t]):(c.followUsers([t]),o({intent:"follow",type:"click",itemIdSuffix:"buddyfeed"})),m.current&&m.current.blur()}),[f,m,t,c,o]);return(0,L.jsxs)("div",{className:ee,children:[(0,L.jsx)(G.q,{label:e,width:40,userIconSize:16,images:(0,i.useMemo)((()=>[{width:40,height:40,url:a}]),[a])}),(0,L.jsxs)("div",{className:n()(se,"ellipsis-one-line"),children:[(0,L.jsx)(r.D,{as:"p",variant:"mestoBold",className:"ellipsis-one-line",children:e}),f&&(0,L.jsx)(r.D,{as:"p",variant:"finale",className:"ellipsis-one-line",children:u.ag.get("following")})]}),(0,L.jsx)("div",{className:ae,children:(0,L.jsx)(j.E,{className:ie,size:"sm",ref:m,onClick:g,ariaLabel:f?u.ag.get("buddy-feed.button.remove-friend"):u.ag.get("buddy-feed.button.add-friend"),icon:f?d.k:l.t})})]})},ne="nGInMrf62TCFD9MBnEzz";function re({facebookFriends:e}){return(0,L.jsx)("div",{className:ne,children:e.map((({uri:e,following:s,title:a,image:i})=>(0,L.jsx)(te,{uri:e,name:a,imageUrl:i,following:s},`fb-friend-${e}`)))})}const le="n6rSk6R7nfmSGSgTRR5_";function de(){return(0,L.jsx)("div",{className:le,children:Array(20).fill(0).map(((e,s)=>(0,L.jsx)(K.C,{isLoading:!0,charCount:100,as:"p",variant:"canon"},s)))})}const ce="pZFwflwH1vXVCmAO5vbz",oe="yPL55nV5rC97vJhAf7ke",ue="qpgo9DQ9rVZbO5pLJog5",me="A3hvkJOGkBNa6zWj6oZa",fe="pIyez6N1SF3jW0U5VUx4",he="lIxuZR4lYTrEKkMYedty",ge="VEmC3OHK3uAasHvO5OuA",xe="wzGPtuvvLpOpY1PDu4Qv",be="YoJTUV4hazVCFNbfKoNq",je=({onBackButtonClick:e})=>{const[s,a]=(0,i.useState)(""),{isLoading:t,friends:n}=(e=>{const s=(0,Z.I)(),a=e.trim().toLowerCase(),{data:i,isLoading:t}=(0,Q.useQuery)("useFacebookFriends",(async()=>(await s.fetchFacebookFriends()).sort(((e,s)=>e.title>s.title?1:-1))));return{isLoading:t,friends:i?.filter((({title:e})=>-1!==e.trim().toLowerCase().indexOf(a)))??[]}})(s),l=(0,q.y1)((e=>{a(e.target.value)}),100),d=(0,i.useCallback)((e=>{null!==e&&e.focus()}),[]);return(0,L.jsxs)("div",{className:ce,children:[(0,L.jsx)(j.E,{ariaLabel:u.ag.get("buddy-feed.button.back"),onClick:e,ref:d,className:oe,icon:P.e,size:"sm",testId:"back-to-friends"}),(0,L.jsxs)("div",{className:ue,children:[(0,L.jsx)("div",{className:me,children:(0,L.jsx)(M.z,{className:fe,iconSize:32})}),(0,L.jsx)("div",{className:he,children:t?(0,L.jsx)(K.C,{isLoading:!0,charCount:25,as:"p",variant:"mesto"}):(0,L.jsx)(r.D,{as:"p",variant:"mesto",children:u.ag.get("buddy-feed.number-of-friends",n.length)})})]}),t?(0,L.jsx)(de,{}):(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)("div",{className:ge,children:[(0,L.jsx)(J.j,{className:be,iconSize:16,role:"presentation"}),(0,L.jsx)("input",{onChange:l,className:xe,placeholder:u.ag.get("buddy-feed.find-in-playlists")})]}),(0,L.jsx)(re,{facebookFriends:n})]})]})};var pe=a(57492);function ye({isOpen:e,onClose:s,onConfirm:a}){return(0,L.jsx)(pe.Q,{onClose:s,"aria-label":u.ag.get("web-player.buddy-feed.connect-with-facebook-title"),onConfirm:a,titleText:u.ag.get("web-player.buddy-feed.connect-with-facebook-title"),descriptionText:u.ag.get("web-player.buddy-feed.connect-with-facebook-description"),cancelText:u.ag.get("queue.cancel-button"),confirmText:u.ag.get("web-player.buddy-feed.connect-button"),isOpen:e})}const Ne="EmZCbU1_B_J9RAHebolL",ve="Ym6Yyx83U7mNKOMw9dxw",Ce="NXcZaSipzomJ6d4_nM94",ke="b9rqRkvRvhrSY4FYHQVC",Ee="xHc_2FQr3NxfCgfDSVhY",De="QAJYN0xWh3h2A5d8_C1g",Ie="PKhH1CknobkjJdVITsb4",Se="HgRmCE3NxfiYNtv6pF3H",we="HnA5mipUMkheAlbxqCn_",_e="mvp0xhvZTo0xv0TIwi9u",Fe=e=>{const s=(0,x.o)(),{onBackButtonClick:a,feedIsEmpty:t,goToAddFriends:n=!1}=e,l=function(){const e=(0,Z.I)(),[s,a]=(0,i.useState)(W.LOADING);return(0,i.useEffect)((()=>e.subscribeToFacebookConnectionState((e=>{a(e.connection?W.CONNECTED:W.DISCONNECTED)})).cancel),[e]),s}(),d=(0,Z.I)(),[c,o]=(0,i.useState)(!1),[m,f]=(0,i.useState)(!1),[h,g]=(0,i.useState)(!1),b=(0,i.useCallback)((e=>{null!==e&&e.focus()}),[]);if(m)return(0,L.jsxs)("div",{className:we,children:[(0,L.jsx)(j.E,{onClick:a,ref:b,className:Ce,ariaLabel:u.ag.get("buddy-feed.button.back"),icon:P.e,size:"sm"}),(0,L.jsxs)("div",{className:_e,children:[(0,L.jsx)(r.D,{as:"h1",variant:"balladBold",className:ve,children:u.ag.get("error-dialog.generic.header")}),(0,L.jsx)(r.D,{as:"p",variant:"mesto",className:ke,children:u.ag.get("error-dialog.generic.body")}),(0,L.jsx)(R.D,{colorSet:"invertedLight",onClick:location.reload,children:u.ag.get("error.reload")})]})]});const p=(n||h)&&l===W.CONNECTED;return(0,L.jsxs)("div",{className:Ne,children:[p&&(0,L.jsx)(je,{onBackButtonClick:()=>{t&&g(!1),a()}}),!p&&(0,L.jsxs)("div",{className:De,children:[(0,L.jsx)(j.E,{ariaLabel:u.ag.get("buddy-feed.button.back"),onClick:a,className:Ce,ref:b,icon:P.e,size:"sm"}),(0,L.jsx)(r.D,{as:"h1",variant:"balladBold",className:ve,children:u.ag.get("buddy-feed.friend-activity")}),(0,L.jsx)(r.D,{as:"p",variant:"mesto",className:ke,children:u.ag.get("buddy-feed.facebook.connect-with-friends-default")}),(0,L.jsx)("div",{className:Ie,children:(0,L.jsx)(R.D,{className:Se,buttonSize:"sm",iconLeading:M.z,UNSAFE_colorSet:(0,H.Ev)("#2374E1",Y.$_Y.white),onClick:()=>{s({intent:"connect-to-facebook",type:"click",itemIdSuffix:"buddyfeed"}),l!==W.CONNECTED?o(!0):g(!0)},children:u.ag.get("buddy-feed.facebook.button")})}),(0,L.jsx)(r.D,{as:"p",variant:"finale",className:Ee,children:u.ag.get("buddy-feed.facebook.disclaimer")}),(0,L.jsx)(ye,{isOpen:c,onClose:()=>{o(!1)},onConfirm:()=>{d.connectToFacebook().then((()=>{g(!0),o(!1)})).catch((()=>{f(!0)}))}})]})]})};var Le=a(73727),Te=a(38370);const Oe="main-buddyFeed-buddyFeedRoot",Be="main-buddyFeed-buddyFeed",Ue="main-buddyFeed-header",Ae="main-buddyFeed-username",ze="main-buddyFeed-headerTitle",Pe="main-buddyFeed-scrollableArea",Re="main-buddyFeed-friendActivity",Me="qgeL6mhrwhk2RldoRar8",He="SQHCRmgNjRywo1Lt7rP3",Ye="SCwzmMSXoZsmhGtGX81s",Ze="VLKqDIGaQn2bILzJKSZ0",We="main-buddyFeed-friendsFeedContainer",qe="main-buddyFeed-avatarContainer",Je="main-buddyFeed-overlay",Ke="Irsd58UNEmDPxdhXKXCs",Qe="main-buddyFeed-activityMetadata",Ge="main-buddyFeed-usernameAndTimestamp",Ve="main-buddyFeed-timestamp",Xe="main-buddyFeed-artistAndTrackName",$e="main-buddyFeed-playbackContextIcon",es="main-buddyFeed-playbackContext",ss="main-buddyFeed-playbackContextLink",as="main-buddyFeed-findFriendsButton",is="main-buddyFeed-addFriendPlaceholder",ts="QXcmb_46WM1geLhhkcdq",ns="main-buddyFeed-addFriendPlaceholderBtn",rs="MObmOrMxbQpO10ebAtZA",ls="cBPbfBWIIPDzhIT6i3ih",ds="PjDcsgAPmXlcTBJRGpIu",cs="IRpPQFA57qgQ5jicWWaD",os="Hm3nIbegLclY1uCAmnx_",us="bhRoVUHjWdo9mgUkU6fe",ms="BliqfY7vu_qE2C9zs5Ou",fs="qdYWuHZd4HdSWfd4pSQB",hs="DhvYWKjDc7uyF3HfkDJJ",gs="ralK8s_OmE8a8zWcfNKM",xs=({showOnlineIndicator:e})=>(0,L.jsxs)("div",{className:ds,children:[(0,L.jsxs)("div",{className:cs,children:[(0,L.jsx)(Te.f,{iconSize:24}),e?(0,L.jsx)("div",{className:os}):null]}),(0,L.jsxs)("div",{className:us,children:[(0,L.jsx)("div",{className:n()(ms,fs)}),(0,L.jsx)("div",{className:ms}),(0,L.jsx)("div",{className:ms})]})]}),bs=()=>(0,L.jsxs)("div",{"data-testid":"buddy-feed-empty-state",className:rs,children:[(0,L.jsx)(r.D,{as:"p",className:ls,children:u.ag.get("buddy-feed.let-followers-see-your-listening")}),(0,L.jsx)(xs,{showOnlineIndicator:!0}),(0,L.jsx)(xs,{showOnlineIndicator:!0}),(0,L.jsx)(xs,{}),(0,L.jsx)(r.D,{as:"p",className:ls,children:u.ag.get("buddy-feed.enable-share-listening-activity")}),(0,L.jsx)(Le.rU,{to:"/preferences",className:hs,children:(0,L.jsx)(R.D,{colorSet:"invertedLight",className:gs,children:u.ag.get("desktop.settings.settings")})})]});var js=a(94537),ps=a(61075);const ys="jUF2eKgYMm64aYykubct",Ns="zhL_lhJqzKfJVy7L5VuY",vs="XqquM_o2eODcnD8Y4QhS",Cs="UGtycHBJ4egymBSmD_lX",ks="ND2ydDPzwQZB7HyaGCN8",Es="D9YN554UFGJle2CPP1TA",Ds="v7Zcy9UKVUTDZIMKB6ZF",Is="RX3U6eAasqazEkuFdnj0",Ss=({children:e,page:s})=>{const a=0===s,i=e.filter(((e,a)=>a!==s));return(0,L.jsx)(js.Z,{component:null,children:i.map((e=>(0,L.jsx)(ps.Z,{in:a,timeout:500,classNames:{enter:a?ys:ks,enterActive:a?Ns:Es,exit:a?vs:Ds,exitActive:a?Cs:Is},children:e},a?"first-page":"second-page")))})};function ws(e){return e.sort(((e,s)=>s.timestamp-e.timestamp))}function _s(e,s){return s.some((s=>s.user.uri===e.user.uri))?s:ws([...s,e])}function Fs(e,s){return s.filter((s=>s.user.uri!==e))}var Ls=a(69518),Ts=a.n(Ls);function Os(e){const s=(0,Z.I)(),[a,t]=(0,i.useState)(ws(e)),{subscribeToFriend:n,unSubscribeFromFriend:r}=function(e,s){const a=(0,Z.I)(),t=(0,i.useRef)(e),n=(0,i.useRef)({}),r=(0,i.useRef)(s);r.current=s;const l=(0,i.useCallback)((e=>{const s=Ts().from(e)?.username;return a.subscribeToBuddyActivity(s,(e=>{e&&r.current(e)}))}),[a]),d=(0,i.useCallback)((e=>{n.current[e]?.cancel(),delete n.current[e]}),[]);return(0,i.useEffect)((()=>{n.current=t.current.reduce(((e,s)=>{const a=s.user.uri,i=l(a);return e[a]=i,e}),{})}),[l]),(0,i.useEffect)((()=>{const e=n.current;return()=>{Object.values(e).forEach((e=>{e.cancel()}))}}),[]),{subscribeToFriend:l,unSubscribeFromFriend:d}}(e,(e=>{t((s=>function(e,s){return ws(s.map((s=>s.user.uri===e.user.uri?e:s)))}(e,s)))}));return(0,$.d)(V.rA.OPERATION_COMPLETE,(async e=>{const i=e.data.uris;if(e.data.operation!==V.BM.FOLLOW_USER){if(e.data.operation===V.BM.UNFOLLOW_USER)for(const e of i)a.find((s=>s.user.uri===e))&&(r(e),t((s=>Fs(e,s))))}else for(const e of i)if(!a.find((s=>s.user.uri===e))){const a=(await s.fetchFriendActivity([e]))[0];t((e=>_s(a,e))),n(e)}})),a}var Bs=a(12690),Us=a(4232),As=a(80507),zs=a(35410),Ps=a(86514),Rs=a(88214),Ms=a(43480),Hs=a(67892),Ys=a(83813),Zs=a(57784),Ws=a(18261),qs=a(49343),Js=a(42922),Ks=a(84242),Qs=a(634),Gs=a(83692);const Vs=e=>{if(!Number.isInteger(e))return"";const s=Date.now()-Number(e),a=Math.round(s/1e3/60),i=Math.round(s/1e3/60/60),t=Math.round(s/1e3/60/60/24),n=Math.round(s/1e3/60/60/24/7);return t>=7?u.ag.get("time.weeks.short",n):i>=24?u.ag.get("time.days.short",t):a>=60?u.ag.get("time.hours.short",i):a>0?u.ag.get("time.minutes.short",a):u.ag.get("time.now")},Xs=e=>{const{timestamp:s,isNowPlaying:a}=e;return a?(0,L.jsx)(Gs.w,{label:u.ag.get("time.now"),children:(0,L.jsx)(Qs.h,{"aria-label":u.ag.get("time.now"),iconSize:16})}):(0,L.jsx)("span",{children:Vs(s)})},$s=e=>Date.now()-e<9e5,ea=(e,s)=>{const a=Ts().from(e)?.type;switch(a){case Ts().Type.PLAYLIST:case Ts().Type.PLAYLIST_V2:return(0,L.jsx)(zs.X,{uri:e});case Ts().Type.EPISODE:case Ts().Type.SHOW:return(0,L.jsx)(Ps.M,{uri:e});case Ts().Type.ALBUM:return(0,L.jsx)(Us.Y,{uri:e,artistUri:s});case Ts().Type.ARTIST:return(0,L.jsx)(As.m,{uri:e});default:return null}},sa=e=>{const{show:s=!0,spec:a,friend:t}=e,l=(0,i.useMemo)((()=>t.user.imageUrl?[{url:t.user.imageUrl,width:0,height:0}]:[]),[t.user.imageUrl]),d=(0,x.o)(),c=(0,N.$P)(),o=t.track,m=o.uri,f=o?.context?.uri,{usePlayContextItem:h}=(0,Ks.n)({uri:f},{featureIdentifier:"buddy_feed",referrerIdentifier:"buddy_feed"}),{togglePlay:g,isPlaying:b,isActive:j}=h({uri:m}),p=(0,i.useCallback)((()=>{g(),d({intent:b?"pause":"play",type:"click",itemIdSuffix:"buddyfeed_play",targetUri:m});const e=a.friendRowFactory().playButtonFactory();j?b?c.logInteraction(e.hitPause({itemToBePaused:m})):c.logInteraction(e.hitResume({itemToBeResumed:m})):c.logInteraction(e.hitPlay({itemToBePlayed:m}))}),[g,d,b,m,a,j,c]),y=(0,i.useCallback)(((e,s)=>{c.logInteraction(a.friendRowFactory().friendRowLinkFactory({identifier:e}).hitUiNavigate({destination:s}))}),[c,a]),v=(0,Zs.O1)([m],o.name),C=(0,Zs.O1)([o.artist?.uri],o.artist?.name),k=(0,Zs.O1)([o.context?.uri],o.context?.name);return s?(0,L.jsxs)("div",{className:n()(Re,{[Me]:e.isCollapsed}),children:[(0,L.jsx)(Ws._,{menu:ea(o.context?.uri,o.artist?.uri),children:(0,L.jsxs)("div",{className:qe,children:[(0,L.jsx)(G.q,{label:t.user.name,width:40,userIconSize:16,images:l,withBadge:$s(t.timestamp)}),(0,L.jsx)(Ys.I,{className:Je,iconClassName:Ke,isPlaying:b,isLocked:!1,onClick:p,playAriaLabel:b?u.ag.get("pause"):`${u.ag.get("play")} ${o.artist.name} ${o.name}`})]})}),!e.isCollapsed&&(0,L.jsxs)("div",{className:n()(Qe),children:[(0,L.jsxs)("div",{className:Ge,children:[(0,L.jsx)(r.D,{as:"p",variant:"mestoBold",className:n()(Ae,"ellipsis-one-line"),children:(0,L.jsx)(Js.ZP,{value:"/buddyfeed_user_profile",children:(0,L.jsx)(Ws._,{menu:(0,L.jsx)(Ms.I,{uri:t.user.uri}),children:(0,L.jsx)(Hs.r,{title:t.user.name,to:t.user.uri,dir:"auto",onClick:()=>y("profile_link",t.user.uri),children:t.user.name})})})}),(0,L.jsx)(r.D,{as:"p",variant:"finale",className:n()(Ve),children:(0,L.jsx)(Xs,{timestamp:t.timestamp,isNowPlaying:$s(t.timestamp)})})]}),(0,L.jsxs)(r.D,{as:"p",variant:"finale",className:Xe,children:[(0,L.jsx)(Js.ZP,{value:"/buddyfeed_track",children:(0,L.jsx)(Ws._,{menu:(0,L.jsx)(Rs.$,{uri:o.uri,contextUri:o.context?.uri,albumUri:o.album?.uri,artists:[o.artist]}),children:(0,L.jsx)(Hs.r,{title:o.name,to:m,className:"ellipsis-one-line",dir:"auto",draggable:!0,onDragStart:v,onClick:()=>y("track_link",m),children:o.name})})}),(0,L.jsx)("span",{"aria-hidden":!0,children:" • "}),(0,L.jsx)(Js.ZP,{value:"/buddyfeed_artist",children:(0,L.jsx)(Ws._,{menu:o.artist?(0,L.jsx)(As.m,{uri:o.artist.uri}):null,children:(0,L.jsx)(Hs.r,{title:o.artist?.name,to:o.artist?.uri,className:"ellipsis-one-line",dir:"auto",draggable:!0,onDragStart:C,onClick:()=>y("artist_link",o.artist?.uri),children:o.artist?.name})})})]}),(0,L.jsx)(r.D,{as:"p",variant:"finale",className:n()("ellipsis-one-line",es),children:(0,L.jsx)(Js.ZP,{value:"/buddyfeed_context",children:(0,L.jsx)(Ws._,{menu:ea(o.context?.uri,o.artist?.uri),children:(0,L.jsxs)(Hs.r,{title:o.context?.name,to:o.context?.uri,className:ss,draggable:!0,onDragStart:k,onClick:()=>y("context_link",o.context?.uri),children:[(0,L.jsx)(qs.t,{type:Ts().from(o.context?.uri)?.type,iconSize:16,className:$e}),(0,L.jsx)("span",{dir:"auto",className:"ellipsis-one-line",children:o.context?.name})]})})})})]})]},t.user.uri):null};function aa({friends:e,isCollapsed:s,spec:a}){return(0,L.jsx)(Bs.U5,{flipKey:e.map((e=>e.user.uri)).join(""),children:(0,L.jsx)("ol",{children:e.map(((e,i)=>(0,L.jsx)(Bs.$3,{flipId:e.user.uri,children:(0,L.jsx)("li",{children:(0,L.jsx)(sa,{friend:e,show:i<100,isCollapsed:s,spec:a},e.user.uri)})},e.user.uri)))})})}const ia=parseInt(_,10),ta=({initialFriends:e,className:s})=>{const a=(0,i.useRef)(null),t=(0,x.o)(),v=(0,m.n)(),[C,k]=(0,y.z)("buddy-feed-width",ia),E=Os(e),D=C===T,I=(0,N.$P)(),{spec:S}=(0,N.fU)(o.createDesktopFriendActivityEventFactory,{});(0,i.useEffect)((()=>{t({intent:"view",type:"impression",itemIdSuffix:"buddyfeed"})}),[t]);const[w,_]=(0,i.useState)(!1),F=()=>{w||I.logInteraction(S.addFriendButtonFactory().hitUiReveal()),_(!w)},O=0===E.length,{toggle:B}=(0,g.T)(h.s.BuddyFeed),U=(0,i.useCallback)((()=>{I.logInteraction(S.closeButtonFactory().hitUiHide()),B()}),[I,S,B]);return(0,L.jsx)(p.DJ.Provider,{value:"buddy_feed",children:(0,L.jsxs)("aside",{"aria-label":u.ag.get("buddy-feed.friend-activity"),className:n()(Oe,s),children:[(0,L.jsx)(z,{elementRef:a,size:C,setSize:k,isBuddyFeedEmpty:O,showAddFriends:w}),(0,L.jsx)("div",{ref:a,className:n()(Be,{[ts]:O}),tabIndex:-1,children:(0,L.jsxs)(Ss,{page:w?1:0,children:[(0,L.jsx)("div",{className:Ze,children:(0,L.jsx)(Fe,{onBackButtonClick:F,feedIsEmpty:O,goToAddFriends:w})}),(0,L.jsxs)("div",{className:We,children:[!D&&(0,L.jsxs)("div",{className:n()(Ue),children:[(0,L.jsx)(r.D,{as:"h1",variant:"balladBold",className:n()(ze),children:u.ag.get("buddy-feed.friend-activity")}),!v&&(0,L.jsx)(b._,{label:u.ag.get("buddy-feed.add-friends"),children:(0,L.jsx)(j.E,{ariaLabel:u.ag.get("buddy-feed.add-friends"),className:n()(as),testId:"add-friends-button",size:"sm",onClick:F,icon:l.t})}),(0,L.jsx)(b._,{label:u.ag.get("buddy-feed.close"),children:(0,L.jsx)(j.E,{ariaLabel:u.ag.get("buddy-feed.close"),className:n()(as),size:"sm",onClick:U,icon:d.k})})]}),(0,L.jsxs)(f.U,{className:Pe,children:[(0,L.jsx)("div",{className:is,children:(0,L.jsx)(j.E,{ariaLabel:u.ag.get("buddy-feed.add-friends"),className:ns,size:"sm",onClick:F,icon:l.t})}),O?(0,L.jsx)(bs,{}):(0,L.jsx)(aa,{friends:E,isCollapsed:D,spec:S})]}),v&&!D&&(0,L.jsx)("div",{className:He,children:(0,L.jsx)(c.P,{className:Ye,"data-testid":"add-friends-button",buttonSize:"sm",onClick:F,title:u.ag.get("buddy-feed.find-friends"),children:u.ag.get("buddy-feed.find-friends")})})]})]})})]})})}}}]);
//# sourceMappingURL=xpui-routes-buddy-feed.js.map